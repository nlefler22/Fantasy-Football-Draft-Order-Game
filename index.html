<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Fantasy Football Draft Race</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #1e3d1a;
      color: white;
      padding: 20px;
    }

    h2 {
      text-align: center;
    }

    .note {
      background: #eef9ff;
      color: #000;
      padding: 10px;
      border-left: 5px solid #0077cc;
      margin-bottom: 20px;
    }

    #raceField {
      position: relative;
      width: 800px;
      height: 500px;
      background: repeating-linear-gradient(
        to right,
        #2e8b57,
        #2e8b57 50px,
        #228b22 50px,
        #228b22 100px
      );
      border: 4px solid white;
      margin: 20px auto;
      overflow: hidden;
    }

    .runner {
      position: absolute;
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 60px;
    }

    .runner img {
      width: 40px;
      height: 40px;
    }

    table, th, td {
      border: 1px solid #444;
      border-collapse: collapse;
      padding: 5px 10px;
      background: white;
      color: black;
    }

    #nextRoundBtn {
      display: none;
      margin: 20px auto;
      padding: 10px 20px;
      font-size: 16px;
      background-color: #0077cc;
      color: white;
      border: none;
      cursor: pointer;
    }

    #totalOdds {
      font-weight: bold;
      margin-top: 10px;
    }

    #setup {
      text-align: center;
    }
  </style>
</head>
<body>

<h2>Fantasy Football Draft Race</h2>

<div class="note">
  <strong>Odds-Based Draft Order:</strong> Each race uses a weighted random draw based on the provided odds. 
  The selected winner is guaranteed to finish first. Other players may appear to lead briefly but will slow down near the end for a fair and exciting experience.
</div>

<div id="setup">
  <label>Number of Players:
    <input type="number" id="playerCount" min="2" max="12" value="6">
  </label>
  <button onclick="generatePlayerInputs()">Set Players</button>
  <form id="playerForm"></form>
  <div id="totalOdds">Total Odds: 0%</div>
  <button onclick="startNextRace()">Start Race</button>
</div>

<div id="raceField"></div>
<button id="nextRoundBtn" onclick="startNextRace()">Next Round</button>

<div id="results" style="display:none;">
  <h3>Final Draft Order</h3>
  <table id="resultTable">
    <tr><th>Draft Pick</th><th>Player</th></tr>
  </table>
</div>

<audio id="whistle" src="https://www.soundjay.com/button/sounds/beep-07.mp3" preload="auto"></audio>
<audio id="cheer" src="https://www.soundjay.com/human/sounds/applause-8.mp3" preload="auto"></audio>

